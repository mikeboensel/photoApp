<!DOCTYPE html>
<html>
        {% extends "base.html" %}
        {% load static %}
        {% block additionalCSS %}
        <!-- <link href="{% static 'css/galleryLayout/animate.css' %}" rel="stylesheet">
        <link href="{% static 'css/galleryLayout/icomoon.css' %}" rel="stylesheet">
        <link href="{% static 'css/galleryLayout/style.css' %}" rel="stylesheet"> -->
        <!-- <link href="{% static 'css/fileUpload/upload.css' %}" rel="stylesheet"> -->
        <link href="{% static 'css/fileUpload/simple.css' %}" rel="stylesheet">
        <link href="{% static 'css/fileUpload/dropzone.css' %}" rel="stylesheet">

        {% endblock additionalCSS %}
        {% block content %}
            <!-- Used during picture full screen viewing -->
            <div id="opacityOverlay" class="hidden" onclick="dismissFullSize()"></div>
            <div id="fullScreenDisplay" class="hidden">
                <img src="filler" style="height: 100%;">
                <div>Comments!!!</div>
                <div onclick="dismissFullSize()" style="position:relative; font-size: xx-large; right:-20%">X</div>
            </div>
            
        
            {% if user.is_authenticated %}
                <div id="dropzoneContainer row">
                    <form action="handleMultipleUpload" class="mt-2 mb-2 dropzone needsclick dz-clickable" id="dropzoneForm">
                        {% csrf_token %}
                        <div class="dz-message needsclick row justify-content-center">
                            <p class="note needsclick">Drop files here or click to upload.<p>                        
                        </div>
                        <div class="fallback row justify-content-center">
                            <input name="file" type="file" multiple />
                        </div>
                        <div class="row justify-content-center order-12">
                            <button type="button" class="btn btn-primary" id="clear-dropzone">
                                Clear Successfully Uploaded Files
                            </button>
                        </div>
                    </form>        
                </div>
            {% endif %}
        
            <div class="row align-items-center" id="imgRow">
              <!-- First take at uploads   
                <div class="col-md-4" id="uploadBox">
                    <form class="box" method="post" action="handleMultipleUpload" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="box__input">
                            <svg class="box__icon" width="50" height="43" viewBox="0 0 50 43">
                                <path d="M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z"></path>
                            </svg>
                            <input class="box__file" type="file" name="files[]" id="file" data-multiple-caption="{count} files selected" multiple="">
                            <label for="file">
                            <strong>Choose a file</strong><span class="box__dragndrop"> or drag it here</span>.
                            </label>
                            <button class="box__button" type="submit">Upload</button>
                        </div>
                        <div class="box__uploading">Uploadingâ€¦</div>
                        <div class="box__success">Done!</div>
                        <div class="box__error">Error! <span></span>.</div>
                    </form>
                </div> 
                -->
                {% for p in picList %}
                
                <div class="col-md-4 imgContainer">
                    <div class="maintainsWidth" style="position:relative"> <!--Had an issue with putting position relative on parent -->
                        <img src="{{p.thumbURL}}" alt="My image" class="img-responsive" onclick="viewFullSize('{{p.fullSizeURL}}')">
                        <div class="row imgControls ml-auto mr-auto">
                            <div class="col-md-4">
                                <button type="button" class="btn btn-default" aria-label="Left Align" onclick="handleDeleteImg(event, '{{p.pk}}')">
                                <span class="fas fa-times-circle"></span>
                                </button>
                            </div>
                            <div class="col-md-4">
                                <button type="button" class="btn btn-default" aria-label="Left Align" onclick="handleThumbsUp(event, '{{p.pk}}')">
                                <span class="fas fa-thumbs-up" aria-hidden="true"></span>
                                </button>
                            </div>
                            <div class="col-md-4">
                                <button type="button" class="btn btn-default" aria-label="Left Align" onclick="handlePrivacy(event, '{{p.pk}}')">
                                <span class="fas fa-eye"></span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                {% endfor %}
            </div>
        {% endblock content %}
        {% block additionalJS %}
        <script src="{% static 'js/upload.js' %}"></script>
        <script src="{% static 'js/dropzone.js' %}"></script>
        <script src="{% static 'js/dropzoneRegister.js' %}"></script>
        <script defer src="https://use.fontawesome.com/releases/v5.0.9/js/all.js" integrity="sha384-8iPTk2s/jMVj81dnzb/iFR2sdA7u06vHJyyLlAd4snFpCl/SnyUjRrbdJsw1pGIl" crossorigin="anonymous"></script>


        {% endblock additionalJS %}
    </body>
</html>
